"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};parcelRequire=function(e,t,n,s){function i(n,s){function o(e){return i(o.resolve(e))}function l(t){return e[n][1][t]||t}if(!t[n]){if(!e[n]){var p="function"==typeof parcelRequire&&parcelRequire;if(!s&&p)return p(n,!0);if(r)return r(n,!0);if(a&&"string"==typeof n)return a(n);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}o.resolve=l,o.cache={};var c=t[n]=new i.Module(n);e[n][0].call(c.exports,o,c,c.exports,this)}return t[n].exports}function o(e){this.id=e,this.bundle=i,this.exports={}}var r="function"==typeof parcelRequire&&parcelRequire,a="function"==typeof require&&require;i.isParcelRequire=!0,i.Module=o,i.modules=e,i.cache=t,i.parent=r,i.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]};for(var l,p=0;p<n.length;p++)try{i(n[p])}catch(e){l||(l=e)}if(n.length){var u=i(n[n.length-1]);"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=u:"function"==typeof define&&define.amd&&define(function(){return u})}if(parcelRequire=i,l)throw l;return i}({"preferred-theme.ts":[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.preferredThemeId=n.preferredTheme=void 0;var s=window.matchMedia("(prefers-color-scheme: dark)").matches?"github-dark":"github-light";n.preferredTheme=s;n.preferredThemeId="preferred-color-scheme"},{}],"configuration-component.ts":[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfigurationComponent=void 0;var s=e("./preferred-theme"),i=function(){function e(){var e=this;this.element=document.createElement("form"),this.element.innerHTML='\n      <h3 id="heading-repository">仓库</h3>\n      <p>\n        选择 Gissues 将要连接的仓库。\n      </p>\n      <ol>\n        <li>确保仓库是公开的，否则您的读者将无法查看 Issue(评论)。</li>\n        <li>无需安装，用户只需要登录即可发表评论。<a href="https://gitee.com/oauth/applications/6089" target="_blank">Gissues app</a>\n        </li>\n        <li>如果你的仓库是一个分叉，请到设置中，确保 Issues 功能已打开。</li>\n      </ol>\n      <fieldset>\n        <div>\n          <label for="repo">仓库:</label><br/>\n          <input id="repo" class="form-control" type="text" placeholder="例：:user/:repo">\n          <p class="note">\n            一个 <strong>public</strong> 的 Gitee 仓库。这是将发布博客文章 Issue 和 Issue 评论的地方。\n          </p>\n        </div>\n        <div>\n          <label for="branch">分支 (可选):</label><br/>\n          <input id="branch" class="form-control" type="text" placeholder="默认：master">\n          <p class="note">\n            仓库的分支名，用于校验仓库 gissues.json 配置，以保证评论不会随意添加到目标仓库中。\n          </p>\n        </div>\n      </fieldset>\n\n      <h3 id="heading-mapping">博客文章 ↔️ Issue 映射</h3>\n      <p>选择博客文章和 Gitee Issue 之间的映射。</p>\n      <fieldset>\n        <div class="form-checkbox">\n          <label>\n            <input type="radio" value="pathname" name="mapping" checked="checked">\n              Issue 标题包含页面路径名。\n            <p class="note">\n              Gissues搜索标题包含博客文章 URL <strong>路径</strong>的 Issue。如果未找到匹配的 Issue，则当有人首次对您的信息发表评论时，Gissues自动创建一个 Issue。\n            </p>\n          </label>\n        </div>\n        <div class="form-checkbox">\n          <label>\n            <input type="radio" value="url" name="mapping">\n              Issue 标题包含页面 URL。\n            <p class="note">\n              Gissues搜索标题包含博客文章 URL 的 Issue。 如果未找到匹配的 Issue，则当有人首次对您的信息发表评论时，Gissues自动创建一个 Issue。\n            </p>\n          </label>\n        </div>\n        <div class="form-checkbox">\n          <label>\n            <input type="radio" value="title" name="mapping">\n              Issue 标题包含页面标题\n            <p class="note">\n              Gissues搜索标题包含博客文章标题的 Issue。 如果未找到匹配的 Issue，则当有人首次对您的信息发表评论时，Gissues自动创建一个 Issue。\n            </p>\n          </label>\n        </div>\n        <div class="form-checkbox">\n          <label>\n            <input type="radio" value="og:title" name="mapping">\n            Issue 标题包含页面 meta 的 og:title\n            <p class="note">\n              Gissues搜索标题包含博客文章页面 meta 元素 <a href="http://ogp.me/" target="_blank">og:title</a> 的 Issue。 如果未找到匹配的 Issue，则当有人首次对您的信息发表评论时，Gissues自动创建一个 Issue。\n            </p>\n          </label>\n        </div>\n        <div class="form-checkbox">\n          <label>\n            <input type="radio" value="issue-number" name="mapping">\n              特定问题编号\n            <p class="note">\n              您可以配置 Gissues按编号加载特定的 Issue。 问题不会自动创建。\n            </p>\n          </label>\n        </div>\n        <div class="form-checkbox">\n          <label>\n            <input type="radio" value="specific-term" name="mapping">\n              问题标题包含特定名称\n            <p class="note">\n              将 Gissues置为搜索标题包含您选择的特定名称的问题。如果未找到匹配问题，Gissues自动创建第一次有人评论您的帖子时。Issue 的标题将是您选择的名称。\n            </p>\n          </label>\n        </div>\n      </fieldset>\n\n      <h3 id="heading-Issue-author">管理员</h3>\n      <p>\n        依赖账号初始化问题评论。\n      </p>\n      <fieldset>\n        <div>\n          <label for="author">管理员账号:</label><br/>\n          <input id="author" class="form-control" type="text" placeholder="管理员账号">\n          <p class="note">\n          账号为登录账号,不是用户昵称。进入个人主页如: https://gitee.com/gissues 其中 gissues 为个人账号。\n          </p>\n        </div>\n      </fieldset>\n\n      <h3 id="heading-Issue-label">Issue 标签</h3>\n      <p>\n        选择将分配给 Gissues建的问题的标签。\n      </p>\n      <fieldset>\n        <div>\n          <label for="label">标签 (可选):</label><br/>\n          <input id="label" class="form-control" type="text" placeholder="标签名">\n          <p class="note">\n          标签名称区分大小写。该标签必须存在于您的仓库中，无法附加不存在的标签。标签名称支持添加表情符号。\n          </p>\n        </div>\n      </fieldset>\n\n      <h3 id="heading-theme">选择主题</h3>\n      <p>\n        选择与您的博客匹配的 Gissues题。找不到你喜欢的主题？\n        <a href="https://gitee.com/gissues/Gissues/blob/main/CONTRIBUTING.MD" target="_blank">贡献</a> 一个自定义主题。\n      </p>\n\n      <select id="theme" class="form-select" value="github-light" aria-label="Theme">\n        <option value="github-light">GitHub Light</option>\n        <option value="github-dark">GitHub Dark</option>\n        <option value="preferred-color-scheme">Preferred Color Scheme</option>\n        <option value="github-dark-orange">GitHub Dark Orange</option>\n        <option value="icy-dark">Icy Dark</option>\n        <option value="dark-blue">Dark Blue</option>\n        <option value="photon-dark">Photon Dark</option>\n      </select>\n      <h3 id="heading-enable">使用 Gissues</h3>\n      <p>\n      &emsp;&emsp;将以下脚本标记添加到博客的模板中。 将其放置在要显示注释的位置。 使用<code> .Gissues </code>和<code> .Gissues-frame </code>选择器自定义布局。\n      </p>\n      <div class="config-field" id="script" class="highlight highlight-text-html-basic"></div>\n      <button id="copy-button" type="button" class="btn btn-blue code-action">复制</button>',this.element.addEventListener("submit",function(e){return e.preventDefault()}),this.element.action="javascript:",this.script=this.element.querySelector("#script"),this.repo=this.element.querySelector("#repo"),this.branch=this.element.querySelector("#branch"),this.label=this.element.querySelector("#label"),this.author=this.element.querySelector("#author"),this.theme=this.element.querySelector("#theme");var t=document.getElementById("theme-stylesheet");sessionStorage.getItem("gissues-theme")&&(this.theme.value=sessionStorage.getItem("gissues-theme"),t.href="/stylesheets/themes/"+this.theme.value+"/index.css"),this.theme.addEventListener("change",function(){var n=e.theme.value;n===s.preferredThemeId&&(n=s.preferredTheme),t.href="/stylesheets/themes/"+n+"/index.css";var i={type:"set-theme",theme:n};document.querySelector("iframe").contentWindow.postMessage(i,location.origin)}),this.element.querySelector("#copy-button").addEventListener("click",function(){return e.copyTextToClipboard(e.script.textContent)}),this.element.addEventListener("change",function(){return e.outputConfig()}),this.element.addEventListener("input",function(){return e.outputConfig()}),this.outputConfig()}return e.prototype.outputConfig=function(){var e,t=this.element.querySelector('input[name="mapping"]:checked');e="issue-number"===t.value?this.makeConfigScriptAttribute("issue-number","在此处输入 Issue 编号"):"specific-term"===t.value?this.makeConfigScriptAttribute("issue-term","在此输入名称"):this.makeConfigScriptAttribute("issue-term",t.value),this.script.innerHTML=this.makeConfigScript(this.makeConfigScriptAttribute("repo",""===this.repo.value?"在此处输入仓库":this.repo.value)+"\n"+(this.branch.value?this.makeConfigScriptAttribute("branch",this.branch.value)+"\n":"")+e+"\n"+(this.label.value?this.makeConfigScriptAttribute("label",this.label.value)+"\n":"")+this.makeConfigScriptAttribute("theme",this.theme.value)+"\n"+this.makeConfigScriptAttribute("author",""===this.author.value?"管理员":this.author.value)+"\n"+this.makeConfigScriptAttribute("crossorigin","anonymous"))},e.prototype.makeConfigScriptAttribute=function(e,t){return'<span class="pl-s1">        <span class="pl-e">'+e+'</span>=<span class="pl-s"><span class="pl-pds">"</span>'+t+'<span class="pl-pds">"</span></span></span>'},e.prototype.makeConfigScript=function(e){return'<pre><span class="pl-s1">&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>https://gissues.gitee.io/client.js<span class="pl-pds">"</span></span></span>\n'+e+'\n<span class="pl-s1">        <span class="pl-e">async</span>&gt;</span>\n<span class="pl-s1">&lt;/<span class="pl-ent">script</span>&gt;</span></pre>'},e.prototype.copyTextToClipboard=function(e){var t=document.createElement("textarea");t.style.cssText="position:fixed;top:0;left:0;width:2em;height:2em;padding:0;border:none;outline:none;box-shadow:none;background:transparent",t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)},e}();n.ConfigurationComponent=i},{"./preferred-theme":"preferred-theme.ts"}],"index.ts":[function(e,t,n){var s=e("./configuration-component");document.querySelector("h2#configuration").insertAdjacentElement("afterend",(new s.ConfigurationComponent).element);for(var i=document.getElementsByTagName("a"),o=0;o<i.length;o++)/^(https?:)?\/\//.test(i[o].getAttribute("href"))&&(i[o].target="_blank")},{"./configuration-component":"configuration-component.ts"}]},{},["index.ts"]);